{% for n in notifications %}
{% if n.data.url %}
<a href="{{ n.data.url }}"
    class="notification-item {% if n.unread %} unread {% else %} read {% endif %} {% if n.is_clicked %} clicked {% else %} not_clicked {% endif %}"
    data-id="{{ n.id }}"
    onclick="handleNotificationClick(event, this)">
    <div class="notification-body">
        <p class="notification-text mb-1">
            {{ n.verb }}
            {% if not n.is_clicked %}<span class="unread-dot"></span>{% endif %}
        </p>
        <small style="color: #6c757d;">{{ n.timestamp|timesince }} ago</small>
    </div>
</a>
{% else %}
<div class="notification-item notification-item {% if n.unread %} unread {% else %} read {% endif %}"
    data-id="{{ n.id }}">
    <div class="notification-body">
        <p class="notification-text mb-1">
            {{ n.verb }}
        </p>
        <small style="color: #6c757d;">{{ n.timestamp|timesince }} ago</small>
    </div>
</div>
{% endif %}
{% empty %}
<div class="text-muted text-center p-3">No notifications yet!</div>
{% endfor %}
{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', markNotificationsAsRead);
</script>
{% endblock %}