{% extends "base.html" %}
{% block content %}

<div class="notification-header">
    <h2>All Notifications</h2>
</div>
<div id="notifications-list">
  {% for n in notifications %}
  <a href="{{ n.data.url|default:'#' }}" class="notification-item {% if n.unread %}unread{% else %}read{% endif %}" data-id="{{ n.id }}">
    <div class="notification-body">
    <p class="notification-text mb-1">
        {{ n.verb }}
        {% if n.unread %}<span class="unread-dot"></span>{% endif %}
    </p>
    <small style="color: #6c757d;">{{ n.timestamp|timesince }} ago</small>
    </div>
  </a>
  {% empty %}
  <div class="text-center p-3" style="color: #6c757d;">No notifications yet.</div>
  {% endfor %}
</div>

{% endblock %}
{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', markNotificationsAsRead);
</script>
{% endblock %}